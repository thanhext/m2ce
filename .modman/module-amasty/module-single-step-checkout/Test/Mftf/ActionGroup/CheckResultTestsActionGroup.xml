<?xml version="1.0" encoding="UTF-8"?>
<!--
/**
 * @author Amasty Team
 * @copyright Copyright (c) 2019 Amasty (https://www.amasty.com)
 * @package Amasty_Checkout
 */
-->
<actionGroups xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
              xsi:noNamespaceSchemaLocation="urn:magento:mftf:Test/etc/actionGroupSchema.xsd">

    <!-- Action Groups below should be used after: "GoToOSCAsCustomerDefaultAddressAndChooseShipping" or
             "GoToOSCAsCustomerChooseAddressAndShipping" or "GoToOSCAsGuestAndChooseShipping", but
                    if ActionGroup extended from "GoToOSCFromCart" she can be used without them -->

    <actionGroup name="StorefrontOSCCheckPaymentMethod">
        <arguments>
            <argument name="paymentMethods"/>
        </arguments>
        <waitForPageLoad time="20" stepKey="waitForPageLoad1"/>
        <waitForAjaxLoad stepKey="waitForAjaxLoad1"/>
        <waitForPageLoad stepKey="waitForPageLoadForCheck"/>
        <seeElement selector="//label[@for='{{paymentMethods.paymentValue}}']" stepKey="checkHavePaymentMethod"/>
    </actionGroup>

    <actionGroup name="StorefrontOSCCheckTotalsAndShippingPrice">
        <arguments>
            <argument name="oneStepCheckoutData"/>
        </arguments>
        <waitForPageLoad time="20" stepKey="waitForPageLoad1"/>
        <waitForAjaxLoad stepKey="waitForAjaxLoad1"/>
        <waitForPageLoad time="2" stepKey="wait1"/>
        <waitForPageLoad stepKey="waitForPageLoad2"/>
        <see selector="{{StorefrontOneStepCheckoutSection.CartSubtotal}}"
             userInput="{{oneStepCheckoutData.cartSubtotal}}" stepKey="checkSubtotalPrice"/>
        <see selector="{{StorefrontOneStepCheckoutSection.ShippingPrice}}"
             userInput="{{oneStepCheckoutData.shippingPrice}}" stepKey="checkShippingPrice"/>
        <see selector="{{StorefrontOneStepCheckoutSection.OrderTotal}}"
             userInput="{{oneStepCheckoutData.orderTotal}}" stepKey="checkOrderTotal"/>
    </actionGroup>

    <actionGroup name="StorefrontOSCCheckTotalsAndShippingWithTax" extends="StorefrontOSCCheckTotalsAndShippingPrice">
        <arguments>
            <argument name="oneStepCheckoutData"/>
        </arguments>
        <see selector="{{StorefrontOneStepCheckoutSection.Tax}}"
             userInput="{{oneStepCheckoutData.tax}}" stepKey="checkTax"/>
    </actionGroup>

    <actionGroup name="StorefrontOSCCheckOnlyTotalsPrice">
        <arguments>
            <argument name="oneStepCheckoutData"/>
        </arguments>
        <waitForPageLoad time="20" stepKey="waitForPageLoad1"/>
        <waitForAjaxLoad stepKey="waitForAjaxLoad1"/>
        <waitForPageLoad time="2" stepKey="wait1"/>
        <waitForPageLoad stepKey="waitForPageLoad2"/>
        <see selector="{{StorefrontOneStepCheckoutSection.CartSubtotal}}"
             userInput="{{oneStepCheckoutData.cartSubtotal}}" stepKey="checkSubtotalPrice"/>
        <see selector="{{StorefrontOneStepCheckoutSection.OrderTotal}}"
             userInput="{{oneStepCheckoutData.orderTotal}}" stepKey="checkOrderTotal"/>
    </actionGroup>

    <actionGroup name="StorefrontOSCCheckOnlyTotalsWithTax" extends="StorefrontOSCCheckOnlyTotalsPrice">
        <arguments>
            <argument name="oneStepCheckoutData"/>
        </arguments>
        <see selector="{{StorefrontOneStepCheckoutSection.Tax}}"
             userInput="{{oneStepCheckoutData.tax}}" stepKey="checkTax"/>
    </actionGroup>


    <actionGroup name="StorefrontOSCCheckDiscount">
        <arguments>
            <argument name="oneStepCheckoutData"/>
        </arguments>
        <waitForPageLoad time="20" stepKey="waitForPageLoad1"/>
        <waitForAjaxLoad stepKey="waitForAjaxLoad1"/>
        <waitForPageLoad time="2" stepKey="wait1"/>
        <waitForPageLoad stepKey="waitForPageLoad2"/>
        <see selector="{{StorefrontOneStepCheckoutSection.Discount}}"
             userInput="{{oneStepCheckoutData.discount}}" stepKey="checkDiscount"/>
    </actionGroup>


    <actionGroup name="StorefrontOSCCheckHaveGiftMessageCheckbox">
        <waitForPageLoad time="20" stepKey="waitForPageLoad1"/>
        <waitForAjaxLoad stepKey="waitForAjaxLoad1"/>
        <seeElement selector="{{StorefrontOneStepCheckoutSection.AddGiftMessageCheckbox}}"
                    stepKey="checkHaveCheckBoxAddMessage"/>
    </actionGroup>


    <actionGroup name="StorefrontOSCCheckGiftMessageBase">
        <waitForPageLoad time="20" stepKey="waitForPageLoad1"/>
        <waitForAjaxLoad stepKey="waitForAjaxLoad1"/>
        <uncheckOption selector="{{StorefrontOneStepCheckoutSection.AddGiftMessageCheckbox}}"
                       stepKey="uncheckBoxAddMessage"/>
        <checkOption selector="{{StorefrontOneStepCheckoutSection.AddGiftMessageCheckbox}}"
                       stepKey="checkBoxAddMessage"/>
        <waitForPageLoad stepKey="waitForPopup1"/>
        <waitForAjaxLoad stepKey="waitForAjax1"/>
    </actionGroup>


    <actionGroup name="StorefrontOSCCheckHaveGiftMessageForOrder" extends="StorefrontOSCCheckGiftMessageBase">
        <waitForPageLoad stepKey="waitForPopUp2"/>
        <seeElement selector="{{StorefrontOneStepCheckoutSection.GiftMessageOrder}}"
                    stepKey="seeGiftMessageOnOrder"/>
        <click selector="{{StorefrontOneStepCheckoutSection.GiftMessageClose}}"
               stepKey="closePopUpMessage"/>
        <waitForAjaxLoad stepKey="waitForAjaxAfterClosePopUp"/>
    </actionGroup>


    <actionGroup name="StorefrontOSCCheckNoGiftMessageForOrder" extends="StorefrontOSCCheckGiftMessageBase">
        <waitForPageLoad stepKey="waitForPopUp2"/>
        <dontSeeElement selector="{{StorefrontOneStepCheckoutSection.GiftMessageOrder}}"
                    stepKey="dontSeeGiftMessageOnOrder"/>
        <click selector="{{StorefrontOneStepCheckoutSection.GiftMessageClose}}"
               stepKey="closePopUpMessage"/>
        <waitForAjaxLoad stepKey="waitForAjaxAfterClosePopUp"/>
    </actionGroup>


    <actionGroup name="StorefrontOSCCheckHaveGiftMessageForItems" extends="StorefrontOSCCheckGiftMessageBase">
        <arguments>
            <argument name="products"/>
        </arguments>
        <waitForPageLoad stepKey="waitForPopUp2"/>
        <seeElement selector="//span[contains(string(), 'Gift Message for {{products.productName}}')]"
                    stepKey="seeGiftMessageOnItem"/>
        <click selector="{{StorefrontOneStepCheckoutSection.GiftMessageClose}}"
               stepKey="waitForAjaxAfterClosePopUp"/>
    </actionGroup>

    <actionGroup name="StorefrontOSCCheckNoGiftMessageForItems" extends="StorefrontOSCCheckGiftMessageBase">
        <arguments>
            <argument name="products"/>
        </arguments>
        <waitForPageLoad stepKey="waitForPopUp2"/>
        <dontSeeElement selector="//span[contains(string(), 'Gift Message for {{products.productName}}')]"
                    stepKey="dontSeeGiftMessageOnItem"/>
        <click selector="{{StorefrontOneStepCheckoutSection.GiftMessageClose}}"
               stepKey="waitForAjaxAfterClosePopUp"/>
    </actionGroup>

    <actionGroup name="AdminCheckGiftMessageForOrderInLastOrder">
        <arguments>
            <argument name="OSCGiftMessageOrderData"/>
        </arguments>
        <amOnPage url="{{AdminAllOrdersPage.url}}" stepKey="navigateToOrder"/>
        <click selector="{{AdminOrdersGridSection.LastOrder}}" stepKey="waitForSelectOrder"/>
        <waitForPageLoad time="50" stepKey="waitForPageLoad1"/>
        <seeElement selector="{{AdminOpenOrder.GiftOptionOrderTab}}" stepKey="checkHaveGiftOption"/>
        <seeInField selector="{{AdminOpenOrder.GiftOptionOrderFrom}}"
             userInput="{{OSCGiftMessageOrderData.messageFrom}}"
             stepKey="checkMessageOrderFrom"/>
        <seeInField selector="{{AdminOpenOrder.GiftOptionOrderTo}}"
             userInput="{{OSCGiftMessageOrderData.messageTo}}"
             stepKey="checkMessageOrderTo"/>
        <seeInField selector="{{AdminOpenOrder.GiftOptionOrderMessage}}"
             userInput="{{OSCGiftMessageOrderData.messageMessage}}"
             stepKey="checkMessageOrderMessage"/>
    </actionGroup>

    <actionGroup name="AdminCheckGiftMessageForItemInLastOrder">
        <arguments>
            <argument name="OSCGiftMessageForItemData"/>
            <argument name="products"/>
        </arguments>
        <amOnPage url="{{AdminAllOrdersPage.url}}" stepKey="navigateToOrder"/>
        <click selector="{{AdminOrdersGridSection.LastOrder}}" stepKey="waitForSelectOrder"/>
        <waitForPageLoad time="50" stepKey="waitForPageLoad1"/>
        <seeElement selector="//div[@class='product-sku-block'][contains (string(),  '{{products.productSKU}}')]//ancestor::tbody//a[contains(@id, 'gift_options')]"
                    stepKey="CheckHaveGiftOptions"/>
        <click selector="//div[@class='product-sku-block'][contains (string(),  '{{products.productSKU}}')]//ancestor::tbody//a[contains(@id, 'gift_options')]"
               stepKey="OpenGiftMessage"/>
        <waitForPageLoad stepKey="waitForPopUp"/>
        <seeInField selector="{{AdminOpenOrder.GiftOptionItemFrom}}"
                    userInput="{{OSCGiftMessageForItemData.messageFrom}}"
                    stepKey="checkMessageOrderFrom"/>
        <seeInField selector="{{AdminOpenOrder.GiftOptionItemTo}}"
                    userInput="{{OSCGiftMessageForItemData.messageTo}}"
                    stepKey="checkMessageOrderTo"/>
        <seeInField selector="{{AdminOpenOrder.GiftOptionItemMessage}}"
                    userInput="{{OSCGiftMessageForItemData.messageMessage}}"
                    stepKey="checkMessageOrderMessage"/>
        <click selector="{{AdminOpenOrder.GiftOptionItemConfirm}}"
               stepKey="ConfirmOptions"/>
    </actionGroup>

    <actionGroup name="StorefrontOSCCheckHaveGiftWrapCheckbox">
        <arguments>
            <argument name="giftWrapFee"/>
        </arguments>
        <waitForPageLoad time="20" stepKey="waitForPageLoad1"/>
        <waitForAjaxLoad stepKey="waitForAjaxLoad1"/>
        <seeElement selector="{{StorefrontOneStepCheckoutSection.GiftWrapCheckbox}}"
                    stepKey="checkHaveCheckBoxGiftWrap"/>
        <seeElement selector="//input[@name='gift_wrap']/following-sibling::label[contains(string(), '{{giftWrapFee}}')]"
                    stepKey="checkValueGiftWrap"/>
    </actionGroup>

    <actionGroup name="AdminCheckGiftWrapInLastOrder">
        <arguments>
            <argument name="giftWrapFee"/>
        </arguments>
        <amOnPage url="{{AdminAllOrdersPage.url}}" stepKey="navigateToOrder"/>
        <click selector="{{AdminOrdersGridSection.LastOrder}}" stepKey="waitForSelectOrder"/>
        <waitForPageLoad time="50" stepKey="waitForPageLoad1"/>
        <see selector="{{AdminOpenOrder.GiftWrap}}" userInput="{{giftWrapFee}}" stepKey="checkHaveGiftWrap"/>
    </actionGroup>

    <actionGroup name="AdminCheckDiscountInLastOrder">
        <arguments>
            <argument name="discount"/>
        </arguments>
        <amOnPage url="{{AdminAllOrdersPage.url}}" stepKey="navigateToOrder"/>
        <click selector="{{AdminOrdersGridSection.LastOrder}}" stepKey="waitForSelectOrder"/>
        <waitForPageLoad time="50" stepKey="waitForPageLoad1"/>
        <see selector="{{AdminOpenOrder.Discount}}" userInput="{{discount}}" stepKey="checkHaveDiscount"/>
    </actionGroup>

    <actionGroup name="AdminCheckQtyProductInLastOrder">
        <arguments>
            <argument name="products"/>
            <argument name="addProductQty"/>
        </arguments>
        <amOnPage url="{{AdminAllOrdersPage.url}}" stepKey="navigateToOrder"/>
        <click selector="{{AdminOrdersGridSection.LastOrder}}" stepKey="waitForSelectOrder"/>
        <waitForPageLoad time="50" stepKey="waitForPageLoad1"/>
        <see selector="//div[@class='product-sku-block'][contains(string(),'{{products.productSKU}}')]/ancestor::tr//table[@class='qty-table']//td"
             userInput="{{addProductQty.qty}}" stepKey="checkHaveDiscount"/>
    </actionGroup>

    <actionGroup name="AdminCheckSkuProductInLastOrder">
        <arguments>
            <argument name="productSKU"/>
        </arguments>
        <amOnPage url="{{AdminAllOrdersPage.url}}" stepKey="navigateToOrder"/>
        <click selector="{{AdminOrdersGridSection.LastOrder}}" stepKey="waitForSelectOrder"/>
        <waitForPageLoad time="50" stepKey="waitForPageLoad1"/>
        <seeElement selector="//div[@class='product-sku-block'][contains(string(),'{{productSKU}}')]" stepKey="checkHaveDiscount"/>
    </actionGroup>

    <actionGroup name="AdminCreateInvoiceAndShipLastOrder">
        <amOnPage url="{{AdminAllOrdersPage.url}}" stepKey="navigateToOrder"/>
        <click selector="{{AdminOrdersGridSection.LastOrder}}" stepKey="waitForSelectOrder"/>
        <waitForPageLoad time="50" stepKey="waitForPageLoad1"/>
        <click selector="{{AdminOpenOrder.InvoiceOrder}}" stepKey="clickForCreateInvoice"/>
        <waitForPageLoad time="50" stepKey="waitForPageLoad2"/>
        <click selector="{{AdminOpenOrder.SubmitInvoice}}" stepKey="clickSubmitInvoice"/>
        <waitForPageLoad time="50" stepKey="waitForPageLoad3"/>
        <waitForElementVisible selector="{{AdminOpenOrder.MessageSuccess}}" stepKey="checkSuccesMessage1"/>
        <see selector="{{AdminOpenOrder.MessageSuccess}}"
             userInput="The invoice has been created."
             stepKey="checkHaveGoodMessageAboutInvoice"/>
        <waitForPageLoad time="50" stepKey="waitForPageLoad4"/>
        <click selector="{{AdminOpenOrder.ShipOrder}}" stepKey="clickForCreateShip"/>
        <waitForPageLoad time="50" stepKey="waitForPageLoad5"/>
        <click selector="{{AdminOpenOrder.SubmitShipment}}" stepKey="clickSubmitShip"/>
        <waitForPageLoad time="50" stepKey="waitForPageLoad6"/>
        <waitForElementVisible selector="{{AdminOpenOrder.MessageSuccess}}" stepKey="checkSuccesMessage2"/>
        <see selector="{{AdminOpenOrder.MessageSuccess}}"
             userInput="The shipment has been created."
             stepKey="checkHaveGoodMessageAboutShipping"/>
    </actionGroup>

    <actionGroup name="StorefrontOSCCheckPriceShipping">
        <arguments>
            <argument name="shippingPrices"/>
            <argument name="shippingMethodsOnCheckout"/>
        </arguments>
        <waitForPageLoad stepKey="waitForLoadPage1"/>
        <waitForAjaxLoad stepKey="waitForAjax"/>
        <waitForElementNotVisible selector="{{FrontCartSection.CartTotalLoader}}" stepKey="waitWhenNotVisibleLoaderTotals"/>
        <waitForAjaxLoad stepKey="waitForAjaxLoad2"/>
        <wait time="3" stepKey="waitForLoadShipping"/>
        <see selector="//input[contains(@value, '{{shippingMethodsOnCheckout.shippingMethodsNameOnCheckout}}')]/parent::td/following-sibling::td/span/span[@class='price']"
             userInput="{{shippingPrices}}" stepKey="checkFreeShipping"/>
        <waitForPageLoad time="30" stepKey="waitForPageLoad3"/>
    </actionGroup>

    <actionGroup name="StorefrontOSCCheckPlaceOrderButtonBellowPayment">
        <arguments>
            <argument name="paymentMethods"/>
        </arguments>
        <waitForPageLoad time="20" stepKey="waitForPageLoad1"/>
        <waitForAjaxLoad stepKey="waitForAjaxLoad1"/>
        <conditionalClick selector="//input[@value='{{paymentMethods.paymentValue}}']"
                          dependentSelector="//div[contains(@class, 'active')]//label[@for='{{paymentMethods.paymentValue}}']"
                          visible="false" stepKey="choosePaymentMethod" />
        <waitForPageLoad time="20" stepKey="waitForPageLoadAfterChooseMethod"/>
        <waitForAjaxLoad stepKey="waitForAjaxLoadAfterChooseMethod"/>
        <seeElement selector="{{StorefrontOneStepCheckoutSection.PlaceOrderAfterPayment}}"
                        stepKey="dontSeeGiftMessageOnOrder"/>
    </actionGroup>

    <actionGroup name="StorefrontOSCCheckHaveOrderCommentField">
        <waitForPageLoad time="20" stepKey="waitForPageLoad1"/>
        <waitForAjaxLoad stepKey="waitForAjaxLoad1"/>
        <seeElement selector="{{StorefrontOneStepCheckoutSection.OrderComment}}"
                    stepKey="checkHaveOrderCommentField"/>
    </actionGroup>


    <actionGroup name="StorefrontOSCCheckHaveCommentOnSuccessPageAndInCustomerAccount">
        <arguments>
            <argument name="comment"/>
        </arguments>
        <waitForPageLoad time="20" stepKey="waitForPageLoad1"/>
        <waitForAjaxLoad stepKey="waitForAjaxLoad1"/>
        <see selector="{{StorefrontOneStepCheckoutSection.OrderCommentSuccessPage}}"
             userInput="{{comment}}"
             stepKey="checkHaveOrderCommentOnSuccessPage"/>
        <click selector="{{SuccessPageSection.OrderNumberCustomerAccount}}" stepKey="openOrderInCustomerAccount"/>
        <waitForPageLoad time="50" stepKey="waitForPageLoad4"/>
        <waitForAjaxLoad stepKey="waitForAjaxLoad2"/>
        <see selector="{{StorefrontOneStepCheckoutSection.OrderCommentInCustomerAccount}}"
             userInput="{{comment}}"
             stepKey="CheckOrderCommentInCustomerAccount"/>
    </actionGroup>


    <actionGroup name="AdminCheckOrderCommentInLastOrder">
        <arguments>
            <argument name="commentInAdminOrder"/>
        </arguments>
        <amOnPage url="{{AdminAllOrdersPage.url}}" stepKey="navigateToOrder"/>
        <click selector="{{AdminOrdersGridSection.LastOrder}}" stepKey="waitForSelectOrder"/>
        <waitForPageLoad time="50" stepKey="waitForPageLoad1"/>
        <click selector="{{AdminOpenOrder.CommentHistoryTab}}" stepKey="OpenCommentHistory"/>
        <waitForPageLoad stepKey="waitForOpenPageComment"/>
        <waitForAjaxLoad stepKey="waitForAjaxLoadComment"/>
        <seeElement selector="//div[@id='Order_History']//div[contains(@class, 'item-comment')][contains(string(), '{{commentInAdminOrder}}')]"
                    stepKey="CheckHaveCommentInOrder"/>
    </actionGroup>


    <actionGroup name="AdminCheckShippingAddressInLastOrder">
        <arguments>
            <argument name="shippingAddress"/>
        </arguments>
        <amOnPage url="{{AdminAllOrdersPage.url}}" stepKey="navigateToOrder"/>
        <click selector="{{AdminOrdersGridSection.LastOrder}}" stepKey="waitForSelectOrder"/>
        <waitForPageLoad time="50" stepKey="waitForPageLoad1"/>
        <seeElement selector="//div[contains(@class,'shipping')]//address[contains(string(),'{{shippingAddress.firstName}}')]"
                    stepKey="CheckFirstName"/>
        <seeElement selector="//div[contains(@class,'shipping')]//address[contains(string(),'{{shippingAddress.lastName}}')]"
                    stepKey="CheckLastName"/>
        <seeElement selector="//div[contains(@class,'shipping')]//address[contains(string(),'{{shippingAddress.street}}')]"
                    stepKey="CheckStreet"/>
        <seeElement selector="//div[contains(@class,'shipping')]//address[contains(string(),'{{shippingAddress.city}}')]"
                    stepKey="CheckCity"/>
        <seeElement selector="//div[contains(@class,'shipping')]//address[contains(string(),'{{shippingAddress.postcode}}')]"
                    stepKey="CheckPostcode"/>
        <seeElement selector="//div[contains(@class,'shipping')]//address[contains(string(),'{{shippingAddress.telephone}}')]"
                    stepKey="CheckTelephone"/>
        <seeElement selector="//div[contains(@class,'shipping')]//address[contains(string(),'{{shippingAddress.region}}')]"
                    stepKey="CheckRegion"/>
        <seeElement selector="//div[contains(@class,'shipping')]//address[contains(string(),'{{shippingAddress.country}}')]"
                    stepKey="CheckCountry"/>
    </actionGroup>


    <actionGroup name="AdminCheckBillingAddressInLastOrder">
        <arguments>
            <argument name="billingAddress"/>
        </arguments>
        <amOnPage url="{{AdminAllOrdersPage.url}}" stepKey="navigateToOrder"/>
        <click selector="{{AdminOrdersGridSection.LastOrder}}" stepKey="waitForSelectOrder"/>
        <waitForPageLoad time="50" stepKey="waitForPageLoad1"/>
        <seeElement selector="//div[contains(@class,'billing')]//address[contains(string(),'{{billingAddress.firstName}}')]"
                    stepKey="CheckFirstName"/>
        <seeElement selector="//div[contains(@class,'billing')]//address[contains(string(),'{{billingAddress.lastName}}')]"
                    stepKey="CheckLastName"/>
        <seeElement selector="//div[contains(@class,'billing')]//address[contains(string(),'{{billingAddress.street}}')]"
                    stepKey="CheckStreet"/>
        <seeElement selector="//div[contains(@class,'billing')]//address[contains(string(),'{{billingAddress.city}}')]"
                    stepKey="CheckCity"/>
        <seeElement selector="//div[contains(@class,'billing')]//address[contains(string(),'{{billingAddress.postcode}}')]"
                    stepKey="CheckPostcode"/>
        <seeElement selector="//div[contains(@class,'billing')]//address[contains(string(),'{{billingAddress.telephone}}')]"
                    stepKey="CheckTelephone"/>
        <seeElement selector="//div[contains(@class,'billing')]//address[contains(string(),'{{billingAddress.region}}')]"
                    stepKey="CheckRegion"/>
        <seeElement selector="//div[contains(@class,'billing')]//address[contains(string(),'{{billingAddress.country}}')]"
                    stepKey="CheckCountry"/>
    </actionGroup>


    <actionGroup name="StorefrontOSCCheckHaveConditionBellowOrder">
        <arguments>
            <argument name="conditionCheckboxText"/>
            <argument name="conditionContent"/>
        </arguments>
        <waitForPageLoad time="20" stepKey="waitForPageLoad1"/>
        <waitForAjaxLoad stepKey="waitForAjaxLoad1"/>
        <seeElement selector="//div[@class='amcheckout-additional-options additional-options']//span[contains(string(), '{{conditionCheckboxText}}')]"
                    stepKey="checkHaveConditionBellowOrder"/>
        <seeElement selector="{{StorefrontOneStepCheckoutSection.TermsAndConditionCheckboxBellowOrder}}"
                    stepKey="checkHaveCheckboxBellowOrder"/>
        <click selector="//div[@class='amcheckout-additional-options additional-options']//span[contains(string(), '{{conditionCheckboxText}}')]"
               stepKey="openContentCondition"/>
        <waitForPageLoad stepKey="waitForPageLoadPopup"/>
        <waitForAjaxLoad stepKey="waitForAjaxLoadPopup"/>
        <seeElement selector="//aside[contains(@class, 'show')]//div[@class='checkout-agreements-item-content'][contains(string(), '{{conditionContent}}')]"
                    stepKey="CheckHaveContent"/>
       <click selector="{{StorefrontOneStepCheckoutSection.TermsAndConditionContentClose}}" stepKey="ClosePopup"/>
    </actionGroup>

    <actionGroup name="StorefrontOSCCheckHaveConditionBellowPayment">
        <arguments>
            <argument name="conditionCheckboxText"/>
            <argument name="conditionContent"/>
        </arguments>
        <waitForPageLoad time="20" stepKey="waitForPageLoad1"/>
        <waitForAjaxLoad stepKey="waitForAjaxLoad1"/>
        <conditionalClick selector="//input[@value='{{paymentCheckMoneyOrder.paymentValue}}']"
                          dependentSelector="//div[contains(@class, 'active')]//label[@for='{{paymentCheckMoneyOrder.paymentValue}}']"
                          visible="false" stepKey="choosePaymentMethod" />
        <waitForPageLoad time="20" stepKey="waitForPageLoad2"/>
        <waitForAjaxLoad stepKey="waitForAjaxLoad2"/>
        <seeElement selector="//div[contains(@class, 'active')]//div[@class='payment-method-content']//span[contains(string(), '{{conditionCheckboxText}}')]"
                    stepKey="checkHaveConditionBellowOrder"/>
        <seeElement selector="{{StorefrontOneStepCheckoutSection.TermsAndConditionCheckboxBellowPayment}}"
                    stepKey="checkHaveCheckboxBellowOrder"/>
        <click selector="//div[contains(@class, 'active')]//div[@class='payment-method-content']//span[contains(string(), '{{conditionCheckboxText}}')]"
               stepKey="openContentCondition"/>
        <waitForPageLoad stepKey="waitForPageLoadPopup"/>
        <waitForAjaxLoad stepKey="waitForAjaxLoadPopup"/>
        <seeElement selector="//aside[contains(@class, 'show')]//div[@class='checkout-agreements-item-content'][contains(string(), '{{conditionContent}}')]"
                    stepKey="CheckHaveContent"/>
        <click selector="{{StorefrontOneStepCheckoutSection.TermsAndConditionContentClose}}" stepKey="ClosePopup"/>
    </actionGroup>

    <actionGroup name="StorefrontOSCCheckDisableOneStepCheckout" extends="GoToOSCFromCart">
        <waitForPageLoad time="60" stepKey="waitForPageLoad1"/>
        <waitForAjaxLoad stepKey="waitForPageCheckoutLoad"/>
        <seeElementInDOM selector="//script[contains(@src, 'amastyCheckoutDisabled')]" stepKey="CheckInPageSource"/>
    </actionGroup>

    <actionGroup name="StorefrontOSCCheckEnableOneStepCheckout" extends="GoToOSCFromCart">
        <waitForPageLoad time="60" stepKey="waitForPageLoad1"/>
        <waitForAjaxLoad stepKey="waitForPageCheckoutLoad"/>
        <seeElementInDOM selector="//script[contains(@data-requiremodule, 'Amasty_Checkout')]" stepKey="checkEnableCheckout"/>
    </actionGroup>


    <actionGroup name="StorefrontOSCCheckDefaultValues">
        <arguments>
            <argument name="adminSettingOSCDefaultValues"/>
            <argument name="shippingMethodsOnCheckout"/>
            <argument name="paymentMethods"/>
        </arguments>
        <amOnPage url="{{OneStepCheckoutPage.url}}" stepKey="navigateToShoppingCart1"/>
        <waitForPageLoad time="50" stepKey="waitForPageLoadCart"/>
        <waitForAjaxLoad stepKey="waitForAjaxLoad1"/>
        <waitForPageLoad time="20" stepKey="waitForPageLoad1"/>
        <seeInField selector="//input[@name='city']"
                    userInput="{{adminSettingOSCDefaultValues.DefaultCity}}" stepKey="checkDefaultCity"/>
        <waitForPageLoad time="30" stepKey="waitForPageLoad2"/>
        <seeInField selector="//select[@name='country_id']"
                    userInput="{{adminSettingOSCDefaultValues.DefaultCountry}}" stepKey="checkDefaultCountry"/>
        <waitForPageLoad time="30" stepKey="waitForPageLoad3"/>
        <seeInField selector="//select[@name='region_id']"
                    userInput="{{adminSettingOSCDefaultValues.DefaultRegion}}" stepKey="checkDefaultRegion"/>
        <waitForPageLoad time="30" stepKey="waitForPageLoad4"/>
        <seeInField selector="//input[@name='postcode']"
                    userInput="{{adminSettingOSCDefaultValues.DefaultPostalCode}}" stepKey="checkDefaultPostalCode"/>
        <waitForPageLoad time="50" stepKey="waitForPageLoad5"/>
        <seeCheckboxIsChecked selector="//form[@class='form methods-shipping']//input"
                              stepKey="checkShippingMethods"/>
        <waitForPageLoad time="30" stepKey="waitForPageLoad6"/>
        <seeOptionIsSelected selector="//form[@class='form payments']//input"
                             userInput="{{paymentMethods.paymentValue}}"  stepKey="checkHavePaymentMethod"/>
        <waitForPageLoad time="30" stepKey="waitForPageLoad7"/>
    </actionGroup>

    <actionGroup name="StorefrontOSCCheckNoDefaultValues">
        <arguments>
            <argument name="shippingMethodsOnCheckout"/>
            <argument name="adminSettingOSCDefaultValues"/>
        </arguments>
        <amOnPage url="{{OneStepCheckoutPage.url}}" stepKey="navigateToShoppingCart1"/>
        <waitForPageLoad time="50" stepKey="waitForPageLoadCart"/>
        <waitForAjaxLoad stepKey="waitForAjaxLoad1"/>
        <waitForPageLoad time="20" stepKey="waitForPageLoad1"/>
        <seeElement selector="//select[@name='country_id']//option[@value='US']" stepKey="checkNoDefaultCountry"/>
        <waitForPageLoad time="30" stepKey="waitForPageLoad2"/>
        <seeElement selector="//div[@name='shippingAddress.region_id']//select[@name='region_id']//option[contains(text(), 'Please select a region')]"
                    stepKey="checkNoDefaultRegion"/>
        <waitForPageLoad time="30" stepKey="waitForPageLoad3"/>
        <dontSeeInField selector="//input[@name='city']" userInput="{{adminSettingOSCDefaultValues.DefaultCity}}"
                        stepKey="checkNoDefaultCity"/>
        <waitForPageLoad time="30" stepKey="waitForPageLoad4"/>
        <dontSeeInField selector="//input[@name='postcode']"
                        userInput="{{adminSettingOSCDefaultValues.DefaultPostalCode}}"
                        stepKey="checkNoDefaultPostalCode"/>
        <waitForPageLoad time="50" stepKey="waitForPageLoad5"/>
        <dontSeeOptionIsSelected selector="//form[@class='form methods-shipping']//input"
                                 userInput="{{shippingMethodsOnCheckout.shippingMethodsNameOnCheckout}}"
                                 stepKey="checkShippingMethods"/>
        <waitForPageLoad time="30" stepKey="waitForPageLoad6"/>
        <dontSeeOptionIsSelected selector="//form[@class='form methods-shipping']//input"
                                 userInput="{{shippingMethodsOnCheckout.shippingMethodsNameOnCheckout}}"
                                 stepKey="checkShippingMethods2"/>
        <waitForPageLoad time="30" stepKey="waitForPageLoad7"/>
        <seeCheckboxIsChecked selector="//form[@class='form payments']//input[@id='billing-address-same-as-shipping-checkmo']"
                              stepKey="checkHavePaymentMethod"/>
        <waitForPageLoad time="30" stepKey="waitForPageLoad8"/>
    </actionGroup>


    <actionGroup name="StorefrontOSCCheckHaveTitleAndDescription" extends="GoToOSCFromCart">
        <arguments>
            <argument name="title"/>
            <argument name="description"/>
        </arguments>
        <waitForPageLoad time="20" stepKey="waitForPageLoad1"/>
        <waitForAjaxLoad stepKey="waitForAjaxLoad1"/>
        <waitForPageLoad stepKey="waitForPageLoadForCheck"/>
        <see selector="{{StorefrontOneStepCheckoutSection.OSCTitle}}" userInput="{{title}}"
                    stepKey="checkTitle"/>
        <see selector="{{StorefrontOneStepCheckoutSection.OSCDescription}}" userInput="{{description}}"
                    stepKey="checkDescription"/>
    </actionGroup>

    <actionGroup name="StorefrontOSCCheckNoTitleAndHaveDescription" extends="GoToOSCFromCart">
        <arguments>
            <argument name="description"/>
        </arguments>
        <waitForPageLoad time="20" stepKey="waitForPageLoad1"/>
        <waitForAjaxLoad stepKey="waitForAjaxLoad1"/>
        <waitForPageLoad stepKey="waitForPageLoadForCheck"/>
        <dontSeeElement selector="{{StorefrontOneStepCheckoutSection.OSCTitle}}"
                        stepKey="checkNoTitle"/>
        <see selector="{{StorefrontOneStepCheckoutSection.OSCDescription}}" userInput="{{description}}"
                    stepKey="checkDescription"/>
    </actionGroup>

    <actionGroup name="StorefrontOSCCheckNoDescriptionAndHaveTitle" extends="GoToOSCFromCart">
        <arguments>
            <argument name="title"/>
        </arguments>
        <waitForPageLoad time="20" stepKey="waitForPageLoad1"/>
        <waitForAjaxLoad stepKey="waitForAjaxLoad1"/>
        <waitForPageLoad stepKey="waitForPageLoadForCheck"/>
        <see selector="{{StorefrontOneStepCheckoutSection.OSCTitle}}" userInput="{{title}}"
                    stepKey="checkTitle"/>
        <dontSeeElement selector="{{StorefrontOneStepCheckoutSection.OSCDescription}}"
                        stepKey="checkNoDescription"/>
    </actionGroup>

    <actionGroup name="StorefrontOSCCheckNoTitleAndDescription" extends="GoToOSCFromCart">
        <waitForPageLoad time="20" stepKey="waitForPageLoad1"/>
        <waitForAjaxLoad stepKey="waitForAjaxLoad1"/>
        <waitForPageLoad stepKey="waitForPageLoadForCheck"/>
        <dontSeeElement selector="{{StorefrontOneStepCheckoutSection.OSCTitle}}"
                        stepKey="checkNoTitle"/>
        <dontSeeElement selector="{{StorefrontOneStepCheckoutSection.OSCDescription}}"
                        stepKey="checkNoDescription"/>
        <waitForPageLoad time="30" stepKey="waitForPageLoad2"/>
    </actionGroup>


    <actionGroup name="StorefrontOSCCheckDesignClassicTwoColumns" extends="GoToOSCFromCart">
        <waitForPageLoad time="20" stepKey="waitForPageLoad1"/>
        <waitForAjaxLoad stepKey="waitForAjaxLoad1"/>
        <waitForPageLoad stepKey="waitForPageLoadForCheck"/>
        <seeElement selector="//div[@id='checkout'][contains(string(),'classic')][contains(string(), '2columns')]"
                    stepKey="checkOSCHaveClassic2ColumnsDesign"/>
        <seeElement selector="//div[contains(@class,'opc-wrapper layout-2-columns')]"
                    stepKey="checkOSCHave2Columns"/>
        <seeElement selector="//div[@class='checkout-column opc'][1]"
                    stepKey="checkOSCHaveFirstColumn"/>
        <seeElement selector="//div[@class='checkout-column opc'][2]"
                    stepKey="checkOSCHaveSecondColumn"/>
        <dontSeeElement selector="//div[@class='checkout-column opc'][3]"
                        stepKey="checkOSCNoThirdColumn"/>
    </actionGroup>

    <actionGroup name="StorefrontOSCCheckDesignClassicThreeColumns" extends="GoToOSCFromCart">
        <waitForPageLoad time="20" stepKey="waitForPageLoad1"/>
        <waitForAjaxLoad stepKey="waitForAjaxLoad1"/>
        <waitForPageLoad stepKey="waitForPageLoadForCheck"/>
        <seeElement selector="//div[@id='checkout'][contains(string(),'classic')][contains(string(), '3columns')]"
                    stepKey="checkOSCHaveClassic3ColumnsDesign"/>
        <seeElement selector="//div[contains(@class,'opc-wrapper layout-3-columns')]"
                    stepKey="checkOSCHave3Columns"/>
        <seeElement selector="//div[@class='checkout-column opc'][1]"
                    stepKey="checkOSCHaveFirstColumn"/>
        <seeElement selector="//div[@class='checkout-column opc'][2]"
                    stepKey="checkOSCHaveSecondColumn"/>
        <seeElement selector="//div[@class='checkout-column opc'][3]"
                        stepKey="checkOSCHaveThirdColumn"/>
        <dontSeeElement selector="//div[@class='checkout-column opc'][4]"
                        stepKey="checkOSCNoFourColumn"/>
    </actionGroup>


    <actionGroup name="StorefrontOSCCheckDesignModernOneColumn" extends="GoToOSCFromCart">
        <waitForPageLoad time="20" stepKey="waitForPageLoad1"/>
        <waitForAjaxLoad stepKey="waitForAjaxLoad1"/>
        <waitForPageLoad stepKey="waitForPageLoadForCheck"/>
        <seeElement selector="//div[@id='checkout'][contains(string(),'modern')][contains(string(), '1column')]"
                    stepKey="checkOSCHaveModern1ColumnDesign"/>
        <seeElement selector="//div[contains(@class,'amcheckout-main-container -modern -layout-1column')]"
                    stepKey="checkOSCHave1Columns"/>
        <seeElement selector="//div[@data-amcheckout-js='step-container']//li[@id='shipping']"
                    stepKey="checkOSCHaveShippingAddressFieldsBlock"/>
        <seeElement selector="//div[@data-amcheckout-js='step-container']//li[@id='opc-shipping_method']"
                    stepKey="checkOSCHaveShippingAddressMethodsBlock"/>
        <seeElement selector="//div[@data-amcheckout-js='step-container']//li[@id='payment']"
                    stepKey="checkOSCHavePaymentMethodsBlock"/>
        <seeElement selector="//div[@data-amcheckout-js='step-container']//div[@class='block items-in-cart active']"
                        stepKey="checkOSCOrderSummaryContentBlock"/>
    </actionGroup>


    <actionGroup name="StorefrontOSCCheckDesignModernTwoColumns" extends="GoToOSCFromCart">
        <waitForPageLoad time="20" stepKey="waitForPageLoad1"/>
        <waitForAjaxLoad stepKey="waitForAjaxLoad1"/>
        <waitForPageLoad stepKey="waitForPageLoadForCheck"/>
        <seeElement selector="//div[@id='checkout'][contains(string(),'modern')][contains(string(), '2columns')]"
                    stepKey="checkOSCHaveModern2ColumnDesign"/>
        <seeElement selector="//div[contains(@class,'amcheckout-main-container -modern -layout-2columns')]"
                    stepKey="checkOSCHave2Columns"/>
        <seeElement selector="//div[@class='amcheckout-column -main']"
                    stepKey="checkOSCHaveFirstMainColumn"/>
        <seeElement selector="//div[@class='amcheckout-column -sidebar']"
                    stepKey="checkOSCHaveSecondSidebarColumn"/>
    </actionGroup>


    <actionGroup name="StorefrontOSCCheckDesignModernThreeColumns" extends="GoToOSCFromCart">
        <waitForPageLoad time="20" stepKey="waitForPageLoad1"/>
        <waitForAjaxLoad stepKey="waitForAjaxLoad1"/>
        <waitForPageLoad stepKey="waitForPageLoadForCheck"/>
        <seeElement selector="//div[@id='checkout'][contains(string(),'modern')][contains(string(), '3columns')]"
                    stepKey="checkOSCHaveModern3ColumnDesign"/>
        <seeElement selector="//div[contains(@class,'amcheckout-main-container -modern -layout-3columns')]"
                    stepKey="checkOSCHave3Columns"/>
        <seeElement selector="//div[@class='amcheckout-column'][1]"
                    stepKey="checkOSCHaveFirstColumn"/>
        <seeElement selector="//div[@class='amcheckout-column'][2]"
                    stepKey="checkOSCHaveSecondColumn"/>
        <seeElement selector="//div[@class='amcheckout-column'][3]"
                    stepKey="checkOSCHaveThirdColumn"/>
        <dontSeeElement selector="//div[@class='amcheckout-column'][4]"
                    stepKey="checkOSCNoFourColumn"/>
    </actionGroup>


    <actionGroup name="StorefrontOSCCheckBlockNames" extends="GoToOSCFromCart">
        <arguments>
            <argument name="blockNames"/>
        </arguments>
        <waitForPageLoad time="20" stepKey="waitForPageLoad1"/>
        <waitForAjaxLoad stepKey="waitForAjaxLoad1"/>
        <see selector="{{StorefrontOneStepCheckoutSection.BlockNameShippingAddress}}"
             userInput="{{blockNames.ShippingAddress}}"
             stepKey="checkBlockShippingAddress"/>
        <see selector="{{StorefrontOneStepCheckoutSection.BlockNameShippingMethods}}"
             userInput="{{blockNames.ShippingMethod}}"
             stepKey="checkBlockShippingMethod"/>
        <see selector="{{StorefrontOneStepCheckoutSection.BlockNamePaymentMethods}}"
             userInput="{{blockNames.PaymentMethod}}"
             stepKey="checkBlockPaymentMethod"/>
        <see selector="{{StorefrontOneStepCheckoutSection.BlockNameOrderTotal}}"
             userInput="{{blockNames.OrderSummary}}"
             stepKey="checkBlockOrderSummary"/>
    </actionGroup>

    <actionGroup name="StorefrontOSCCheckHaveHeaderAndFooter" extends="GoToOSCFromCart">
        <waitForPageLoad time="20" stepKey="waitForPageLoad1"/>
        <waitForAjaxLoad stepKey="waitForAjaxLoad1"/>
        <seeElement selector="{{StorefrontOneStepCheckoutSection.OSCHeader}}"
                    stepKey="checkHeader"/>
        <seeElement selector="{{StorefrontOneStepCheckoutSection.OSCHeaderLogo}}"
                    stepKey="checkHeaderLogo"/>
        <seeElement selector="{{StorefrontOneStepCheckoutSection.OSCHeaderMinicart}}"
                    stepKey="checkHeaderMinicart"/>
        <seeElement selector="{{StorefrontOneStepCheckoutSection.OSCHeaderSearch}}"
                    stepKey="checkHeaderSearch"/>
        <seeElement selector="{{StorefrontOneStepCheckoutSection.OSCFooter}}"
                    stepKey="checkFooter"/>
        <seeElement selector="{{StorefrontOneStepCheckoutSection.OSCFooterBlockNewsletter}}"
                    stepKey="checkFooterBlockNewsletter"/>
        <seeElement selector="{{StorefrontOneStepCheckoutSection.OSCFooterBlockAboutAs}}"
                    stepKey="checkFooterBlockAboutAs"/>
        <seeElement selector="{{StorefrontOneStepCheckoutSection.OSCFooterBlockSearchTerms}}"
                    stepKey="checkFooterBlockSearchTerms"/>
    </actionGroup>

    <actionGroup name="StorefrontOSCCheckNoHeaderAndFooter" extends="GoToOSCFromCart">
        <waitForPageLoad time="20" stepKey="waitForPageLoad1"/>
        <waitForAjaxLoad stepKey="waitForAjaxLoad1"/>
        <dontSeeElement selector="{{StorefrontOneStepCheckoutSection.OSCHeader}}"
                    stepKey="checkHeader"/>
        <dontSeeElement selector="{{StorefrontOneStepCheckoutSection.OSCHeaderLogo}}"
                    stepKey="checkHeaderLogo"/>
        <dontSeeElement selector="{{StorefrontOneStepCheckoutSection.OSCHeaderMinicart}}"
                    stepKey="checkHeaderMinicart"/>
        <dontSeeElement selector="{{StorefrontOneStepCheckoutSection.OSCHeaderSearch}}"
                    stepKey="checkHeaderSearch"/>
        <dontSeeElement selector="{{StorefrontOneStepCheckoutSection.OSCFooter}}"
                    stepKey="checkFooter"/>
        <dontSeeElement selector="{{StorefrontOneStepCheckoutSection.OSCFooterBlockNewsletter}}"
                    stepKey="checkFooterBlockNewsletter"/>
        <dontSeeElement selector="{{StorefrontOneStepCheckoutSection.OSCFooterBlockAboutAs}}"
                    stepKey="checkFooterBlockAboutAs"/>
        <dontSeeElement selector="{{StorefrontOneStepCheckoutSection.OSCFooterBlockSearchTerms}}"
                    stepKey="checkFooterBlockSearchTerms"/>
    </actionGroup>

</actionGroups>
